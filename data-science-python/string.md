# 문자와 문자열

컴퓨터가 문자열을 표현하는 방법에 대해서 알아보자

## 아스키코드

아스키는 대표적인 문자 인코딩 방식이다. 비트 일곱 개로 문자를 표현하므로 문자를 총 128 개까지 표현할 수 있다.

```py
>>> ch = 'A'
>>> bch = ch.encode()
>>> bch
b'A'
>>> bch[0]
65
```

정수를 나타내는 데 쓰는 자료형은 바이트 수에 따라 다양한데, int 형이 가장 많이 쓰인다 int 형은 32 비트 컴퓨터에서 일반적으로 4 바이트이다. 이보다 작은 short 형은 2 바이트이다. 아스키코드를 표현하는 데는 7 비트면 충분하므로 int 형이나 short 형을 쓰면 메모리가 낭비된다. 그래서 문자를 표현하기 위한 char 형이라는 새로우 ㄴ정수 자료형을 만들었다. 정수 자료형이므로 작은 수를 표현하는 데 사용하기도 한다.

## 유니코드

전 세계적으로 컴퓨터가 보급되고 인터넷을 통해 세계 각국의 사람들이 커뮤니케이션을 하면서 컴퓨터에서 쓸 수 있는 언어가 좀 더 많이 필요해졌다. 그래서 7 비트로 표현하던 문자를 16 비트로 확장하였다. 여기에 더해 수 하나에 다시 문자 하나를 일대일로 대응한 새로운 표를 만들었다. 이 테이블이 유니코드이다.

처음부터 새로 대응한 것은 아니고 아스키코드 앞에 0 으로 채워진 8 비트를 붙이고 그 이후부터 숫자 하나에 문자 하나씩을 대응하였다. 문자에는 한글, 중국어, 일본어 같은 언어 대부분이 포함되어있다.
한글은 U+AC00 부터 U+D7AF 까지 자리 잡고 있다.

## 유니코드 인코딩 방식

코드 유닛은 코드 포인트를 특정한 방법으로 인코딩했을 때 변환되어 얻어지는 비트의 나열을 말한다.
문자 인코딩 방식은 코드 유닛을 옥텟으로 나열하여 변환하는 방법이다. 옥텟은 데이터의 단위로 8 비트를 의미한다. 예전에는 1 바이트가 반드시 8 비트는 아니었으므로 옥텟이라는 용어를 따로 사용하였다. 현재 컴퓨터는 모두 8 비트 단위를 사용하므로 코드 유닛을 옥텟으로 변환해도 실제로 비트가 바뀌지는 않는다.

유니코드는 2 바이트로 숫자 하나에 문자 하나를 대응하여 문자를 표현한다. 기본 다국어 평면을 포함해 평면이 열일곱 개 있으므로 모든 문자를 표현하려면 3 바이트가 필요하다. 코드 유닛의 크기를 3 바이트로 하고 코드 포인트를 그대로 저장하면 될 것 같지만 1 바이트 정수만 저장할 수 있는 시스템이라면 3 바이트짜리 정수는 저장할 수 없다. 이 시스템에서는 한글을 표현할 수 없다. 그러므로 다양한 코드 유닛을 갖는 인코딩 방식을 두어 유연하게 대처해야 한다.
유니코드 인코딩 방식에는 UTF-8, UTF-16, UTF-32 를 포함한 다양한 방식이 있다.

### UTF-8

유니코드 인코딩 방식 중 하나로 유니코드 문자 하나를 1 바이트에서 4 바이트 사이에서 표현한다.
문자에 따라 바이트수가 달라져 가변 길이 인코딩 방식이라고 부른다.

### UTF-16

유니코드 인코딩 방식 중 하나로 2 바이트 단위로 문자를 표현한다. 해당 문자가 기본 다국어 평면에 있으면 2 바이트로 인코딩되고, 그렇지 않으면 4 바이트로 인코딩된다. 코드 유닛의 크기는 16 비트이다.

### UTF-32

유니코드 인코딩 방식의 하나로 모든 문자를 4 바이트로 표현한다. 코드 유닛의 크기는 32 비트이다.

## 마무리

프로그래밍을 하다보면 텍스트 파일을 열었을 때 문자가 깨지는 현상과 같은 문자 인코딩 문제를 종종 만난다.문자 인코딩에 대해 정확한 지식을 갖춰 두면 이럴 때 문제를 빠르게 파악할 수 있어서 매우 유용하다.
